(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var o=n(1),c=n(7),l=n.n(c),a=(n(13),n(14),n(15),n(2)),i=n(8),r=n(3),s=n(0),u=function(e){var t=e.onCreateTodo,n=e.title,o=e.setTitle;return Object(s.jsx)("form",{onSubmit:t,children:Object(s.jsx)("input",{type:"text",className:"new-todo",placeholder:"What needs to be done?",value:n,onChange:function(e){return o(e.target.value)}})})},d=function(e){var t=e.todo,n=e.onComplete,o=e.onActiveEditTodo,c=e.onDelete;return Object(s.jsxs)("div",{className:"view",children:[Object(s.jsx)("input",{type:"checkbox",className:"toggle",checked:t.completed,onChange:function(){return n(t.id)}}),Object(s.jsx)("label",{onDoubleClick:function(){return o(t.id)},children:t.title}),Object(s.jsx)("button",{type:"button",className:"destroy",onClick:function(){return c(t.id)}})]})},j=function(e){var t=e.todos,n=e.todo,c=e.saveData,l=e.setTodos,i=Object(o.useState)(""),u=Object(r.a)(i,2),d=u[0],j=u[1],b=Object(o.useRef)();Object(o.useEffect)((function(){j(n.title),b.current.focus()}),[n.id]);return Object(s.jsx)("input",{ref:b,type:"text",className:"edit",value:n.title,onChange:function(e){!function(e,n){var o=t.map((function(t){return t.id===n?Object(a.a)(Object(a.a)({},t),{},{title:e.target.value}):t}));l(o)}(e,n.id)},onBlur:function(){return function(e){var n=t.map((function(t){return t.id===e?Object(a.a)(Object(a.a)({},t),{},{title:d,toggle:!0}):t}));l(n),c(n)}(n.id)},onKeyDown:function(e){return function(e,n){if("Enter"===e.key){var o=t.map((function(e){return e.id===n?Object(a.a)(Object(a.a)({},e),{},{toggle:!0}):e}));l(o.filter((function(e){return""!==e.title}))),c(o.filter((function(e){return""!==e.title})))}else if("Escape"===e.key){var i=t.map((function(e){return e.id===n?Object(a.a)(Object(a.a)({},e),{},{title:d,toggle:!0}):e}));l(i),c(i)}}(e,n.id)}})},b=function(e){var t=e.todosVisible,n=e.todos,o=e.setTodos,c=e.saveData,l=e.setToogleAll,i=function(e){var t=n.filter((function(t){return t.id!==e}));t.every((function(e){return!e.completed}))&&l(!1),o(t),c(t)},r=function(e){var t=n.map((function(t){return t.id===e?Object(a.a)(Object(a.a)({},t),{},{completed:!t.completed}):t}));o(t),c(t)},u=function(e){var t=n.map((function(t){return t.id===e?Object(a.a)(Object(a.a)({},t),{},{toggle:!1}):t}));o(t)};return Object(s.jsx)("ul",{className:"todo-list",children:t.map((function(e){return e.toggle?Object(s.jsx)("li",{className:e.completed?"completed":null,children:Object(s.jsx)(d,{todo:e,onComplete:r,onActiveEditTodo:u,onDelete:i})},e.id):Object(s.jsx)("li",{className:"editing",children:Object(s.jsx)(j,{todos:n,todo:e,saveData:c,setTodos:o})},e.id)}))})},f={all:"All",active:"Active",completed:"Completed"},O=function(e){var t=e.onVisibleTodos,n=e.visibleTodos;return Object(s.jsx)("ul",{className:"filters",children:Object.values(f).map((function(e){return Object(s.jsx)("li",{children:Object(s.jsx)("a",{href:"All"===e?"#/":"#/".concat(e.toLocaleLowerCase()),className:n===e?"selected":null,onClick:function(){t(e)},children:e})},e)}))})};var m=function(){var e=Object(o.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],l=Object(o.useState)(""),d=Object(r.a)(l,2),j=d[0],m=d[1],p=Object(o.useState)(!1),g=Object(r.a)(p,2),v=g[0],h=g[1],x=Object(o.useState)(f.all),N=Object(r.a)(x,2),T=N[0],C=N[1],k=n.reduce((function(e,t){return e-(t.completed?1:0)}),n.length),y=function(e){return localStorage.setItem("todos",JSON.stringify(e))};Object(o.useEffect)((function(){localStorage.getItem("todos")&&c(JSON.parse(localStorage.getItem("todos")))}),[]);var S=[];return T===f.all?S=n:T===f.active?S=n.filter((function(e){return!e.completed})):T===f.completed&&(S=n.filter((function(e){return e.completed}))),Object(s.jsxs)("section",{className:"todoapp",children:[Object(s.jsxs)("header",{className:"header",children:[Object(s.jsx)("h1",{children:"todos"}),Object(s.jsx)(u,{onCreateTodo:function(e){e.preventDefault();var t=+new Date;if(j){var o=[{id:t,title:j,completed:!1,toggle:!0}].concat(Object(i.a)(n));c(o),m(""),y(o)}},title:j,setTitle:m})]}),Object(s.jsxs)("section",{className:"main",children:[Object(s.jsx)("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",checked:v,onChange:function(){return function(){if(n.length){var e=n.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{completed:!v})}));c(e),h(!v)}else h(!1)}()}}),Object(s.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"}),Object(s.jsx)(b,{todosVisible:S,setTodos:c,todos:n,saveData:y,setToogleAll:h})]}),n.length?Object(s.jsxs)("footer",{className:"footer",children:[Object(s.jsx)("span",{className:"todo-count",children:"".concat(k," items left")}),Object(s.jsx)(O,{onVisibleTodos:function(e){C(e)},visibleTodos:T}),S.some((function(e){return e.completed}))?Object(s.jsx)("button",{type:"button",className:"clear-completed",onClick:function(){return function(){var e=n.filter((function(e){return!e.completed}));e.length||h(!1),c(e),y(e)}()},children:"Clear completed"}):null]}):null]})};l.a.render(Object(s.jsx)(m,{}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.439c0140.chunk.js.map